<template name="dashboardOrganizerEventsUpdate">

  <ul class="breadcrumb">
    <li><a href="/dashboard">Личный кабинет</a></li>
    <li><a href="{{pathFor 'dashboard.organizers'}}">Организации</a></li>
    <li><a href="{{pathFor 'dashboard.organizer' _id=event.organizer._id}}">{{event.organizer.name}}</a></li>
    <li><a href="{{pathFor 'dashboard.organizer.events' _id=event.organizer._id}}">События</a></li>
    <li><a href="{{pathFor 'dashboard.organizer.event' _id=_id}}">{{event.title}}</a></li>
    <li><a href="{{pathFor 'dashboard.organizer.event.update' _id=event._id}}" class="active">Редактировать</a></li>
  </ul>

  <div class="panel-section bg-white">
    <div class="panel-heading">
      <div class="panel-title">Редактировать событие</div>
    </div>
    <div class="panel-body">

      {{#autoForm collection=Events id="updateEventForm" doc=event type="update" trimString=true template="bootstrap3-horizontal" class="row"}}
        <fieldset>
          <legend class="col-xs-12">Основная информация</legend>
          {{> afQuickField name="title" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9" autofocus=''}}
          {{> afQuickField name="categoryId" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
          {{> afQuickField name="price" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
          {{> afQuickField name="dates" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
          <legend class="col-xs-12">Описание</legend>
          {{> afQuickField name="description" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
          {{> afQuickField name="imageUrl" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}
          {{> afQuickField name="bannerUrl" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}

          <!-- {{#afEachArrayItem name="dates"}}
            {{> afFieldInput name=this.current.dateFrom template="datetimeRange"}}
            <button type="button" class="btn btn-primary autoform-remove-item"><span class="glyphicon glyphicon-minus"></span></button>
          {{/afEachArrayItem}}
          <button type="button" class="btn btn-primary autoform-add-item" data-autoform-field="dates"><span class="glyphicon glyphicon-plus"></span></button> -->

          <legend class="col-xs-12">Контактная информация</legend>
          {{> afQuickField name="location" template="bootstrap3-horizontal" label-class="col-sm-3" input-col-class="col-sm-9"}}

        </fieldset>
        <div class="col-sm-9 col-sm-offset-3">
          <button type="submit" class="btn btn-primary btn-wider">Обновить</button>
        </div>
      {{/autoForm}}

    </div>
  </div>

</template>
