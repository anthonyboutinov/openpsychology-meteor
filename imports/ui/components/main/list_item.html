<template name="list_item">

  <div class="list-item">
    {{#unless hideImage}}
    <a href="/event/{{event._id}}">
      <div class="aspect-ratio aspect-ratio-2-1 m-b-10">
        <img class="img-responsive img-external-noalpha" src="{{event.imageUrl}}" aria-hidden="true">
      </div>
    </a>
    {{/unless}}

    <div class="list-item-text">
      {{#unless hideButtons}}
      <span class="inline-block pull-right">
        {{> bookmarkButton event=event}}
        {{> likeButton event=event}}
      </span>
      {{/unless}}
      <a href="/event/{{event._id}}" class="link-unstyled">
        <h5 class="block-title">{{event.category.singularName}}</h5>
        <h4>{{nbsp event.title}}</h4>
      </a>
    </div>
    <div class="list-item-text p-b-15">
      <a href="/event/{{event._id}}" class="link-unstyled">
        <div class="list-item-date {{dateInProgressClass}}">
          {{#unless eventHasPassed}}
            {{nearestUpcomingDate}} ({{calenderDate}})
            {{#if eventIsInProgress}}
              <div class="progress">
                <div class="progress-bar progress-bar-calendar"
                role="progressbar" aria-valuenow="{{eventProgressCalEventsFinished}}" aria-valuemin="0" aria-valuemax="{{event.dates.length}}"
                style="width: {{eventProgressPercentage}}%">
                  <span class="sr-only">Прошло {{eventProgressCalEventsFinished}} встреч из {{event.dates.length}}.</span>
                </div>
              </div>
            {{/if}}
          {{/unless}}
          {{#if eventHasPassed}}
            Событие закончилось
          {{/if}}
        </div>
      </a>

      {{#unless hideAdditionalInfo}}
      <div class="m-t-10">
        <span class="m-r-15 btn-sized {{priceBg}}">{{priceLabel}}</span>

        <a href="/organizer/{{event.organizer._id}}" class="link-hoverreveal">
          <span aria-hidden="true"><img src="{{event.organizer.imageUrl}}" class="profile-pic">&nbsp;</span>{{nbsp event.organizer.name}}
        </a>
      </div>
      {{/unless}}

    </div>
  </div>

</template>
